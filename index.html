
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Tailored Shapes</title>
  <meta name="author" content="Tom Marsh">

  
  <meta name="description" content="How do Apple&#8217;s .pkg installation files work? Today I learned the answer to a couple of questions I didn&#8217;t realize I had: Why are you &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tsmarsh.github.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Tailored Shapes" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-7393476-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Tailored Shapes</a></h1>
  
    <h2>Putting words to shapes</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tsmarsh.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/07/apple-installers-do-not-work-how-you-think/">What Do Installers Do?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-07T21:07:00-06:00" pubdate data-updated="true">Mar 7<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/03/07/apple-installers-do-not-work-how-you-think/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>How do Apple&#8217;s .pkg installation files work?</p>

<p>Today I learned the answer to a couple of questions I didn&#8217;t realize I had:</p>

<p>Why are you prompted to install to a volume, not a directory?</p>

<p>Can I really keep applications outside of the /Applications directory?</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/03/07/apple-installers-do-not-work-how-you-think/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/17/working-with-agilistas/">Agile Engagement Anti Patterns</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-17T12:04:00-05:00" pubdate data-updated="true">Oct 17<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/10/17/working-with-agilistas/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been on both sides of the Agile transformation equation, both transformed and the transformer. Over the years I have seen a couple of anti-patterns in engagements that should be avoided.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/10/17/working-with-agilistas/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/15/game-of-life-kata-in-clojure/">Game of Life Kata in Clojure</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-15T07:36:00-05:00" pubdate data-updated="true">Oct 15<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/10/15/game-of-life-kata-in-clojure/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Being an ex-Guardianista Conway&#8217;s Game of Life has a special place in my heart. The problem is simple enough that you can express it in 6 or 7 cards and devious enough that two developers rarely come up with the same solution twice. It can be easily test driven and, in Java, the naive approach takes about and hour and a half to complete and usually spans three to five classes.</p>

<p>It is a neat problem to put a language through whilst you&#8217;re learning it.</p>

<p>Things I really liked about Clojure:</p>

<ul>
<li><a href="http://example.com/" title="Optional Title">Leiningen</a> : the best build tool I&#8217;ve ever user. Easy to configure. Easy to find help on.</li>
<li><a href="https://github.com/marick/Midje">Midje</a>: lovely little testing framework that doesn&#8217;t feel like it is getting in your way</li>
<li>Being able to make my solution parallel simply by making map -> pmap (not that it helped performance)</li>
</ul>


<p>Things that I learned to like:</p>

<ul>
<li>Immutable objects: I thought I was pretty good at making my methods idempotent in OO code. I was surprised at how much I had to shift my thinking to get it to work for real.</li>
<li>Functional style: I really though this would be a breeze coming from Ruby / Python / Javascript, but functions without objects are completely different. What really surprised me is that loosing the structure and state embodied in objects actually made the solution feel lighter and me for more powerful.</li>
<li>REPL: Immutable objects and strict scoping for values complicates the REPL experience. But it is still very nice to have a REPL, vs Java / C#.</li>
<li>(): They really do melt away.</li>
</ul>


<p>Things that I didn&#8217;t like:</p>

<ul>
<li>Clojure start-up time: it really is a second more than the usual JVM start up, enough to affect the frequency of running the tests compared to python or ruby.</li>
<li>Debugging: I tried and failed to use trace and although you get some feed back from the exceptions, it was not as laser guided as Java or C#.</li>
<li>Learning curve: Learning new languages is fun for me. I&#8217;ve been programming since I was five years old in Logo and Basic. I learned Java and Haskell at University and I&#8217;ve been programming professionally in Java, C#, Python and Ruby for the last 8 years. Clojure was the toughest of all of them. It was like learning to code from scratch all over again.</li>
<li>Readability: Clojure lends itself to a terse style of programming and I can imagine finding it hard to read my own code in a couple of weeks. Python and Java have it beat.</li>
<li>IDE Support: Syntax highlighting and paren matching is about as good as it gets. That is plenty though. I&#8217;ve heard good things from Emacs users about Clojure support, but have no experience myself.</li>
</ul>


<p>I&#8217;ve come away from this experience a lot more positively than I expected too. Clojure is a language that has opened my eyes to complete different way of solving problems, and I liked it. There is a maturity in the ecosystem that is sorely missing from C#, Python and Scala in the form of leiningen which is comparable to Bundler and significantly better than Maven.</p>

<p>My biggest concern is that I have no idea how I would sell Clojure on a project. It is hard enough to find developers who can work in Java and C#, and harder still to find Ruby developers. I&#8217;m not sure I could apply the approach that the Guardian does for Scala and hire talented Java developers and then train them in Clojure. I relied far more on my Computer Science degree to get me through the Kata than my Java experience. Scala advantage here is being able to write Scala like Java with closures and type inference. If universities started to teach Lisps with the same passion as they do C style languages this would be less of a problem.</p>

<p>There are some problem spaces where Clojure looks really attractive. Expert systems written using core.logic look very interesting, but they are competing head on with Drools which has a significantly lower cognitive cost of entry even if Clojure definitely has a syntax advantage in that space.</p>

<p>Concurrency is another area where Clojure makes excellent choices but my experience tells me that you really need close to a hundred cores to make concurrency pay because of synchronization costs. If you need concurrency to deal with IO delay then the Disruptor pattern or just an event loop provide much better bang for buck and even languages with global interpreter locks (GIL) like Ruby and Python are more than adequate for that. If you have an embarrassingly parallel computation problem Clojure may get you to a solution faster. Projects like <a href="http://www.kickstarter.com/projects/adapteva/parallella-a-supercomputer-for-everyone">Parallella</a> might also help prove that multi-core is the near future. If you can genuinely out perform a $1000 server with $99 of arm chips with 16 co-processors that is a compelling reason to look at Clojure / Go / Scala.</p>

<p>DSLs are another area where Clojure excels. Macros mean you can re-write the syntax in the language with no runtime penalty. I&#8217;m just not sure that DSLs are compelling on their own and I&#8217;ve seen enough bad DSLs in Ruby to know that they are no panacea.</p>

<p>So that is my view on Clojure. It is a fantastic language that is looking for a solution that can justify its learning curve.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/12/automated-testing/">Automated Testing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-12T19:01:00-05:00" pubdate data-updated="true">Oct 12<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/10/12/automated-testing/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was introduced to Unit Testing back in 2007 on my first agile gig. At that point
Unit tests were defined to me as &#8216;tests that proved individual units of code&#8217;. Database connections were a smell, but not forbidden; mocks, stubs were actively encouraged. The closer we got to 100% coverage the better, but we did at least have the sense to not test the language, so no constructor or property testing.</p>

<p>Functional tests were then defined to me as &#8216;tests the prove that individual units work together&#8217;.
This usually meant writing unit tests, but with spring providing you with real objects rather than mocks and it was generally accepted that a real database / service would be used. This was often an after thought, as we already had close to 100% unit coverage. There purpose was to catch bugs that only occurred in the interaction of objects that would otherwise have only been tested in isolation. The functional suite was a little light, predominantly because it was never really clear if functional tests were really just unit tests.</p>

<p>Integration tests were then described as &#8216;proving that the whole thing works together&#8217;, and were originally HTTPUnit tests, until we &#8216;advanced&#8217; towards selenium. They were slow and unreliable. The build would break for environmental reasons so often that it was a surprise when they broke for real.</p>

<p>Despite this I was sold, at least I was sold on Unit testing. It just made my code better and gave me a way of thinking about the problem before I thought about the solution, but there were a few problems.</p>

<ul>
<li>Slow tests: Unit tests got slow fast. This boiled down to

<ul>
<li>Database calls: you can perform 100 unit tests in the time it takes to make one database call</li>
<li>Over mocking / stubbing: reflection is 10-100 times slower than a normal function call and as test code is only run once the most VMs won&#8217;t optimize it away.</li>
</ul>
</li>
<li>Writing test code often takes a lot longer than writing the production code.</li>
<li>Over testing:

<ul>
<li>having to change tests in the unit, functional and integration tests</li>
<li>having to change five unit tests for one change.</li>
</ul>
</li>
</ul>


<p>Five years on and my styles have changed. This is how I see automated testing now.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/10/12/automated-testing/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/10/desk-checking/">Desk Checking</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-10T05:38:00-05:00" pubdate data-updated="true">Oct 10<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/10/10/desk-checking/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If there is one practice guaranteed to reduce the number of bugs in a system it is desk checking.</p>

<p>The process should look something like this:</p>

<ol>
<li>Developer believes they have finished a story</li>
<li>Developer integrates with the latest version of the code</li>
<li>Developer runs automated tests</li>
<li>Developer asks the QA to &#8216;Desk Check&#8217; their code</li>
<li>QA runs a quick, manual smoke test that puts the system through its paces</li>
<li>If any errors are found, Developer and QA discuss mechanisms for automating that testing at a unit or functional level.</li>
<li>Developer implements those tests, fixes problem and repeats.</li>
</ol>


<p>Up until step four this process should be familiar to all developers. In practice, steps four through six rarely take more than five minutes, so if it catches just a single bug it can save the project an hour of developer context switching. There are other subtle benefits as well. Letting developers see how you test can help reduce the time it takes to test even further, it may even help them to identify other problems.</p>

<p>All parties involved in defect resolution agree that early diagnosis and resolution of bugs is good for everyone, but &#8216;Desk Checking&#8217; is often met with resistance from both QA and Developers.</p>

<p>I&#8217;ve experienced complaints from QA that desk checking interferes with normal testing, but really the attitude should be that &#8216;normal testing&#8217; is the filler between desk checks, they are that effective.</p>

<p>It is also a little confrontational. Developers can react badly to having their weaknesses exposed so publicly and personally. This is just an unhealthy attitude on the part of the developer and should be considered a smell by their management. Remember, it may not be productive in the long run, but making a developer cry is a QA rite of passage.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/09/nurture-your-qa/">Nurture Your QA</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-09T21:13:00-05:00" pubdate data-updated="true">Oct 9<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/10/09/nurture-your-qa/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We have all heard the rhetoric that &#8216;Quality&#8217; is everyones responsibility, but &#8216;Quality&#8217; is not a metric that is easy to define. That is why we have QA. To my mind QA is one of the most maligned and under-rated roles in software development, but it is probably the most important of all of them.</p>

<p>It doesn&#8217;t matter how reliable or clever your product is if it &#8216;sucks&#8217;.</p>

<p>I have argued that Steve Jobs may have been a marvelous raconteur but that his real talent was quality assurance. His public appearance may have been full of rhetoric and bluff, but for the most part, the &#8216;reality distortion field&#8217; experience converted millions of people to iPod and iPhone over a period of years, with a market that grew release after release and that is a hallmark of quality.</p>

<p>I don&#8217;t believe Mr. Jobs followed the evolution that I am about to outline at least not professionally, a successful start up will do that to you. In any case, that requires a mixture of luck and foresight which isn&#8217;t a pre-requisite for becoming a QA. But I do believe that, if nurtured correctly, you can grow your own QA.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/10/09/nurture-your-qa/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/03/07/apple-installers-do-not-work-how-you-think/">What do Installers do?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/17/working-with-agilistas/">Agile engagement anti patterns</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/15/game-of-life-kata-in-clojure/">Game of Life Kata in Clojure</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/12/automated-testing/">Automated Testing</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/10/desk-checking/">Desk Checking</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/tsmarsh">@tsmarsh</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'tsmarsh',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("tsmarsh", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/tsmarsh" class="twitter-follow-button" data-show-count="false">Follow @tsmarsh</a>
  
</section>


<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/ts.marsh?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/ts.marsh">My Delicious Bookmarks &raquo;</a></p>
</section>


<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/tsmarsh?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Tom Marsh -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'tailoredshapes';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
